# スポーツの歴史を学ぶサイト

<img width="1920" height="1032" alt="image" src="https://github.com/user-attachments/assets/c4cabb30-c70b-4029-a9cc-6e94732bb8f7" />


2025/12/30
* 1. DB連携による参考URLの動的表示機能
  * 単一のリンク表示から、データベース（PostgreSQL）に保存されたデータを取得して動的にリスト表示する形式へアップグレードしました。

  * MyBatisの活用: resultMap を定義し、DBのスネークケース（page_name）からJavaのキャメルケース（pageName）へのマッピングを正確に実装しました。

  * 1対多のデータ表示: JSPの c:forEach タグを使用し、特定のスポーツに関連する複数の参考リンクを一覧表示できるようにしました。

* 2. サーバーサイドのロジック強化
  * サービス層の拡張: TimeLineService にて、Controllerから受け取ったスポーツコードをMapperへリレーする引数設計を行いました。

  * エラーハンドリング: NullPointerException を解決し、依存性注入（@Autowired）の適切な設定を確認しました。

* 3. フロントエンドの改善（ダークモード対応）
  * ダークモード適用時でも、DBから取得したリンクが見やすく表示されるようCSSの調整を行いました。

  * Chromeデベロッパーツールを活用したDOM構造の確認により、リンクが正しく生成されていることを検証しました。
 
🏆 2025年12月31日 最終更新
* 1. 国際対応（マルチカントリー）参照リンク機能の完遂
  * 動的フィルタリング: sports_type と country の複合キーを用いて、特定の国と競技に最適化された参考URLをDBから動的に抽出・表示する機能を実装しました。

  * ロジックの堅牢化: URLパラメータの表記揺れを吸収する変換メソッド（convertCountryCode）を実装し、大文字小文字や別称に関わらず正確にデータを取得できるようになりました。

* 2. DRY原則に基づくコードの共通化
  * JSPテンプレートの統合: 競技ごとに存在していた複数のJSPファイルを、1つの sportsDetail.jsp に統合しました。これにより、今後100種類以上の競技を追加しても、コードを増やすことなくDBの更新だけで対応可能なスケーラビリティを確保しました。

  * Controllerの最適化: 複数のPathVariablesを適切にハンドリングし、画面遷移とデータ検索の連動を最適化しました。

🚀 2026年1月2日の最新アップデート
* 元旦からの2日間で、以下の強力な機能を実装しました：

* 1. 年表の重要イベント・ハイライト機能
  * 歴史の中でも特に重要な出来事（WBC優勝や競技の発足など）をDBのフラグで管理。

  * 視認性の高いUI: ダークモードに対応しつつ、重要項目を金色の枠線とグロー効果（発光）で強調。

  * 三項演算子による動的クラス付与: Javaのエンティティと連携し、条件に応じたスタイル切り替えを実装。

* 2. インテリジェント・レコメンド（関連競技表示）
  * SQLサブクエリの活用: 閲覧中の競技と同じカテゴリ（球技、武道など）に属する他の競技を自動抽出。

  * ユーザー体験の向上: ページを閉じさせることなく、関連するスポーツへ次々と遷移できる「回遊性」を実現。

* 3. 大規模スポーツ名称の日本語化変換
  * 100種類以上の競技に対応: 内部的な管理名（英語コード）を、ユーザーフレンドリーな日本語名へ動的に変換。

  * 徹底した網羅性: マイナースポーツから伝統武道まで、あらゆる競技に対応した変換ロジックを搭載。

* 🛠 技術スタック
 * Backend: Java / Spring Boot

 * Frontend: JSP / CSS (Dark Mode Optimized) / JavaScript

 * Database: PostgreSQL

 * ORM: MyBatis

💻 こだわりの実装ポイント (Code Highlights)
* CSS変数 (var(--text-color)): テーマに依存しない柔軟な色管理。

  * SQL Aliasing: is_important AS important を活用した、DBとJavaエンティティのスマートなマッピング。

  * 三項演算子の活用: ${event.important ? 'highlight' : ''} による、シンプルで保守性の高いテンプレート記述。
