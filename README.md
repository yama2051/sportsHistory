# スポーツの歴史を学ぶサイト

2025/12/30
* 1. DB連携による参考URLの動的表示機能
  * 単一のリンク表示から、データベース（PostgreSQL）に保存されたデータを取得して動的にリスト表示する形式へアップグレードしました。

  * MyBatisの活用: resultMap を定義し、DBのスネークケース（page_name）からJavaのキャメルケース（pageName）へのマッピングを正確に実装しました。

  * 1対多のデータ表示: JSPの c:forEach タグを使用し、特定のスポーツに関連する複数の参考リンクを一覧表示できるようにしました。

* 2. サーバーサイドのロジック強化
  * サービス層の拡張: TimeLineService にて、Controllerから受け取ったスポーツコードをMapperへリレーする引数設計を行いました。

  * エラーハンドリング: NullPointerException を解決し、依存性注入（@Autowired）の適切な設定を確認しました。

* 3. フロントエンドの改善（ダークモード対応）
  * ダークモード適用時でも、DBから取得したリンクが見やすく表示されるようCSSの調整を行いました。

  * Chromeデベロッパーツールを活用したDOM構造の確認により、リンクが正しく生成されていることを検証しました。
 
🏆 2025年12月31日 最終更新
* 1. 国際対応（マルチカントリー）参照リンク機能の完遂
  * 動的フィルタリング: sports_type と country の複合キーを用いて、特定の国と競技に最適化された参考URLをDBから動的に抽出・表示する機能を実装しました。

  * ロジックの堅牢化: URLパラメータの表記揺れを吸収する変換メソッド（convertCountryCode）を実装し、大文字小文字や別称に関わらず正確にデータを取得できるようになりました。

* 2. DRY原則に基づくコードの共通化
  * JSPテンプレートの統合: 競技ごとに存在していた複数のJSPファイルを、1つの sportsDetail.jsp に統合しました。これにより、今後100種類以上の競技を追加しても、コードを増やすことなくDBの更新だけで対応可能なスケーラビリティを確保しました。

  * Controllerの最適化: 複数のPathVariablesを適切にハンドリングし、画面遷移とデータ検索の連動を最適化しました。
